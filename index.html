<!DOCTYPE HTML>
<html>
<head>
    <title>Compiler</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="dist/styles/compiler.css" />
    <link rel="stylesheet" href="dist/styles/bootstrap.min.css">
</head>
<body onload="init();">
    <div id="divButtonBar" style="margin:4px;">
        <nav class="navbar navbar-default">
            <div class="container-fluid">
                <div class="navbar-header">
                    <span>Prisc<strong>OS</strong> Compiler</span>
                    <button type="button" class="btn btn-primary navbar-btn"
                            style="margin-left: 5px;"
                            onclick="compile();">
                        Compile
                    </button>
                </div>
            </div>
        </nav>
    </div>
    <div class="container-fluid">
        <div class="row">
            <div class="source-code-container col-sm-6">
                <h3 style="padding-left: 10px;">Source Code</h3>
                <textarea id="source-code" style="resize: none;"></textarea>
            </div>
            <div class="log-output-container col-sm-6">
                <h3 style="padding-left: 10px;">Log</h3>
                <textarea id="log-output" style="resize: none;" readonly></textarea>
            </div>
        </div>
    </div>

    <!-- Client-side code down here, per the YSlow advice. 
         (http://developer.yahoo.com/performance/rules.html#js_bottom) -->
    <script type="text/javascript" src="dist/scripts/utils.js"></script>	
    <script type="text/javascript" src="dist/scripts/lexer.js"></script>
    <script type="text/javascript" src="dist/scripts/parser.js"></script>
    <script type="text/javascript" src="dist/scripts/token.js"></script>
	<script type="text/javascript" src="dist/scripts/globals.js"></script>
    <script type="text/javascript">
		 function init() {
	        // Clear the message box.
	        document.getElementById("log-output").value = "";
	        // Set the initial values for our globals.
        }
    
	    function compile() {
	        // This is executed as a result of the user pressing the 
	        // "compile" button between the two text areas, above.  
	        // Note the <input> element's event handler: onclick="btnCompile_click();
	        init();
	        putMessage("Compilation Started");
	        // Grab the tokens from the lexer . . .
	        tokens = _Lexer.lex();
	        putMessage("Lex returned [" + tokens + "]");
	        // . . . and parse!
            if (_LexError === false) {
                _Parser.parse();
            }
	    }
    
	    function putMessage(msg) {
	        document.getElementById("log-output").value += msg + "\n";
	    }
    </script>
</body>
</html>